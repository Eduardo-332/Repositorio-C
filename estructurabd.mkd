## Estructura de la Base de Datos DBTerraform

ğŸ—„ï¸ **DBTerraform** *(Base de Datos)*  
â”œâ”€â”€ ğŸ·ï¸ **Usuarios** *(Clientes y Administradores)*  
â”‚   â”œâ”€â”€ `id_usuario` *(INT, PRIMARY KEY, AUTOINCREMENT)*  
â”‚   â”œâ”€â”€ `nombre` *(NVARCHAR(100), NOT NULL)*  
â”‚   â”œâ”€â”€ `correo` *(NVARCHAR(255), UNIQUE, NOT NULL)*  
â”‚   â”œâ”€â”€ `contrasena` *(NVARCHAR(255), NOT NULL)*  
â”‚   â”œâ”€â”€ `tipo_usuario` *(NVARCHAR(50), CHECK('Cliente', 'Administrador'))*  
â”‚   â”œâ”€â”€ `fecha_registro` *(DATETIME, DEFAULT GETDATE())*  
â”‚
â”œâ”€â”€ ğŸ·ï¸ **Productos**  
â”‚   â”œâ”€â”€ `id_producto` *(INT, PRIMARY KEY, AUTOINCREMENT)*  
â”‚   â”œâ”€â”€ `nombre` *(NVARCHAR(255), NOT NULL)*  
â”‚   â”œâ”€â”€ `descripcion` *(TEXT)*  
â”‚   â”œâ”€â”€ `precio` *(DECIMAL(10,2), NOT NULL)*  
â”‚   â”œâ”€â”€ `stock` *(INT, NOT NULL)*  
â”‚   â”œâ”€â”€ `imagen_url` *(NVARCHAR(500))*  
â”‚   â”œâ”€â”€ `fecha_creacion` *(DATETIME, DEFAULT GETDATE())*  
â”‚
â”œâ”€â”€ ğŸ·ï¸ **Ordenes** *(Pedidos)*  
â”‚   â”œâ”€â”€ `id_orden` *(INT, PRIMARY KEY, AUTOINCREMENT)*  
â”‚   â”œâ”€â”€ `id_usuario` *(INT, FOREIGN KEY -> Usuarios(id_usuario), NOT NULL)*  
â”‚   â”œâ”€â”€ `fecha_orden` *(DATETIME, DEFAULT GETDATE())*  
â”‚   â”œâ”€â”€ `estado` *(NVARCHAR(50), CHECK('Pendiente', 'En Proceso', 'Enviado', 'Entregado', 'Cancelado'))*  
â”‚   â”œâ”€â”€ `total` *(DECIMAL(10,2), NOT NULL)*  
â”‚
â”œâ”€â”€ ğŸ·ï¸ **DetallesOrden**  
â”‚   â”œâ”€â”€ `id_detalle` *(INT, PRIMARY KEY, AUTOINCREMENT)*  
â”‚   â”œâ”€â”€ `id_orden` *(INT, FOREIGN KEY -> Ordenes(id_orden), NOT NULL)*  
â”‚   â”œâ”€â”€ `id_producto` *(INT, FOREIGN KEY -> Productos(id_producto), NOT NULL)*  
â”‚   â”œâ”€â”€ `cantidad` *(INT, NOT NULL)*  
â”‚   â”œâ”€â”€ `precio_unitario` *(DECIMAL(10,2), NOT NULL)*  
â”‚   â”œâ”€â”€ `subtotal` *(GENERATED COLUMN, cantidad * precio_unitario)*  
â”‚
â”œâ”€â”€ ğŸ·ï¸ **Carrito** *(Compras)*  
â”‚   â”œâ”€â”€ `id_carrito` *(INT, PRIMARY KEY, AUTOINCREMENT)*  
â”‚   â”œâ”€â”€ `id_usuario` *(INT, FOREIGN KEY -> Usuarios(id_usuario), NOT NULL)*  
â”‚   â”œâ”€â”€ `id_producto` *(INT, FOREIGN KEY -> Productos(id_producto), NOT NULL)*  
â”‚   â”œâ”€â”€ `cantidad` *(INT, NOT NULL)*  
â”‚   â”œâ”€â”€ `fecha_agregado` *(DATETIME, DEFAULT GETDATE())*  
â”‚
â”œâ”€â”€ ğŸ·ï¸ **Pagos**  
â”‚   â”œâ”€â”€ `id_pago` *(INT, PRIMARY KEY, AUTOINCREMENT)*  
â”‚   â”œâ”€â”€ `id_orden` *(INT, FOREIGN KEY -> Ordenes(id_orden), NOT NULL)*  
â”‚   â”œâ”€â”€ `metodo_pago` *(NVARCHAR(50), CHECK('Tarjeta de CrÃ©dito', 'PayPal', 'Transferencia'))*  
â”‚   â”œâ”€â”€ `estado_pago` *(NVARCHAR(50), CHECK('Pendiente', 'Pagado', 'Rechazado'))*  
â”‚   â”œâ”€â”€ `fecha_pago` *(DATETIME, DEFAULT GETDATE())*  
â”‚
â”œâ”€â”€ ğŸ·ï¸ **Archivos** *(Almacenamiento de imÃ¡genes y documentos)*  
â”‚   â”œâ”€â”€ `id_archivo` *(INT, PRIMARY KEY, AUTOINCREMENT)*  
â”‚   â”œâ”€â”€ `id_usuario` *(INT, FOREIGN KEY -> Usuarios(id_usuario), NOT NULL)*  
â”‚   â”œâ”€â”€ `nombre_archivo` *(NVARCHAR(255), NOT NULL)*  
â”‚   â”œâ”€â”€ `url_archivo` *(NVARCHAR(500), NOT NULL)*  
â”‚   â”œâ”€â”€ `fecha_subida` *(DATETIME, DEFAULT GETDATE())*  
â”‚
â”œâ”€â”€ ğŸ·ï¸ **CacheConsultas** *(Para consultas frecuentes)*  
â”‚   â”œâ”€â”€ `id_cache` *(INT, PRIMARY KEY, AUTOINCREMENT)*  
â”‚   â”œâ”€â”€ `clave` *(NVARCHAR(255), UNIQUE, NOT NULL)*  
â”‚   â”œâ”€â”€ `valor` *(TEXT, NOT NULL)*  
â”‚   â”œâ”€â”€ `fecha_expiracion` *(DATETIME, NOT NULL)*

